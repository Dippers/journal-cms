services:
  jcms_ckeditor.html_converter:
    class: League\HTMLToMarkdown\HtmlConverter
  jcms_ckeditor.html_md_normalizer:
    class: Drupal\jcms_ckeditor\HtmlMarkdownSerializer
    arguments: ['@jcms_ckeditor.html_converter']
  jcms_ckeditor.environment:
    class: League\CommonMark\Environment
    factory: League\CommonMark\Environment::createCommonMarkEnvironment
  jcms_ckeditor.html_renderer:
    class: League\CommonMark\HtmlRenderer
    arguments: ['@jcms_ckeditor.environment']
  jcms_ckeditor.doc_parser:
    class: League\CommonMark\DocParser
    arguments: ['@jcms_ckeditor.environment']
  jcms_ckeditor.md_json_normalizer:
    class: Drupal\jcms_ckeditor\MarkdownJsonSerializer
    arguments: ['@jcms_ckeditor.html_renderer', '@file.mime_type.guesser']
  jcms_ckeditor.html_json_normalizer:
    class: Drupal\jcms_ckeditor\HtmlJsonSerializer
    arguments: ['@jcms_ckeditor.html_md_normalizer', '@jcms_ckeditor.md_json_normalizer', '@jcms_ckeditor.doc_parser']
